crystal_doc_search_index_callback({"repository_name":"github.com/dscottboggs/subtitles.cr","body":"# subtitles.cr\n\nConvert between various subtitle file-formats. Based on\n[papnkukn/subsrt](https://github.com/papnkukn/subsrt). Currently converts\nbetween ASS, SSA, SRT, and JSON formats, more formats planned.\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     subtitles.cr:\n       github: your-github-user/subtitles.cr\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"subtitles\"\n\n# Read in the subtitle file to an intermediary format\nintermediary = Subtitles.parse filepath: \"/path/to/sub.srt\"\n\n# Convert to the desired format\nass = Subtitles::ASS.new intermediary\n\n# Open the destination file\nFile.open \"/path/to/sub.srt\", mode: \"w\" do |file|\n  # Copy in the data\n  IO.copy ass, file\nend\n\n# Alternatively, serve over HTTP:\nmodule Middleware\n  # Obviously the above steps need applied here too.\n  def call(request : HTTP::Request, response : HTTP::Server::Response)\n    IO.copy ass, response\n  end\nend\n```\n\n## Development\n\nSpecs have already been written to verify various formats, so if someone else\ngets the chance to implement the remaining formats before I do, follow these\nsteps:\n\n 1. Write your parser as an implementation of the `Subtitles::Format` interface,\n    and store it alongside the other formats in `src/format`.\n 2. when you're done, move the symbol for your format from the `PENDING` list to\n    `READY` in `spec/spec_helper.cr`.\n 3. run `crystal spec`\n\nFor example, if you were implementing the `vtt` format, you'd store the\nimplementation in `src/format/vtt.cr`. In `spec/spec_helper`, `READY` would look\nlike the below snippet, and when you run `crystal spec` there should be no\nfailures or errors.\n\n```crystal\nREADY   = {:SRT, :JSON, :ASS, :SSA, :VTT}\n```\n\n\n## Contributing\n\n1. Fork it (<https://github.com/your-github-user/subtitles.cr/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [D. Scott Boggs](https://github.com/your-github-user) - creator and maintainer\n","program":{"html_id":"github.com/dscottboggs/subtitles.cr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/dscottboggs/subtitles.cr","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/dscottboggs/subtitles.cr/MillisecondsSpanConverter","path":"MillisecondsSpanConverter.html","kind":"module","full_name":"MillisecondsSpanConverter","name":"MillisecondsSpanConverter","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"converters.cr","line_number":5,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"MILLIS_TO_NANOS","name":"MILLIS_TO_NANOS","value":"1e6","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Convert an integer representing a number of milliseconds to a Time::Span and\nvice-versa.","summary":"<p>Convert an integer representing a number of milliseconds to a Time::Span and vice-versa.</p>","class_methods":[{"id":"from_json(value:JSON::PullParser)-class-method","html_id":"from_json(value:JSON::PullParser)-class-method","name":"from_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::PullParser"}],"args_string":"(value : JSON::PullParser)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr#L8","def":{"name":"from_json","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::PullParser"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Time::Span.new(nanoseconds: (value.read_int * MILLIS_TO_NANOS).to_i64)"}},{"id":"to_json(value:Time::Span,jsonbuilder:JSON::Builder)-class-method","html_id":"to_json(value:Time::Span,jsonbuilder:JSON::Builder)-class-method","name":"to_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Time::Span"},{"name":"builder","doc":null,"default_value":"","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(value : Time::Span, json builder : JSON::Builder)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr#L12","def":{"name":"to_json","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Time::Span"},{"name":"builder","doc":null,"default_value":"","external_name":"json","restriction":"JSON::Builder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"builder.string((value.total_nanoseconds / MILLIS_TO_NANOS).to_i)"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Sanitizer","path":"Sanitizer.html","kind":"module","full_name":"Sanitizer","name":"Sanitizer","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"converters.cr","line_number":18,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/dscottboggs/subtitles.cr/SanitizeString","kind":"module","full_name":"SanitizeString","name":"SanitizeString"},{"html_id":"github.com/dscottboggs/subtitles.cr/SanitizeStringHash","kind":"module","full_name":"SanitizeStringHash","name":"SanitizeStringHash"}],"namespace":null,"doc":"Methods for sanitizing individual strings within structures of strings.","summary":"<p>Methods for sanitizing individual strings within structures of strings.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/SanitizeString","path":"SanitizeString.html","kind":"module","full_name":"SanitizeString","name":"SanitizeString","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Sanitizer","kind":"module","full_name":"Sanitizer","name":"Sanitizer"}],"locations":[{"filename":"converters.cr","line_number":30,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/dscottboggs/subtitles.cr/Sanitizer","kind":"module","full_name":"Sanitizer","name":"Sanitizer"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"Filter troublesome characters from the JSON. Currently just doubles up on\nbackslashes.","summary":"<p>Filter troublesome characters from the JSON.</p>","class_methods":[{"id":"from_json(value:JSON::PullParser)-class-method","html_id":"from_json(value:JSON::PullParser)-class-method","name":"from_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::PullParser"}],"args_string":"(value : JSON::PullParser)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr#L32","def":{"name":"from_json","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::PullParser"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"dirty(value.read_string)"}},{"id":"to_json(value:String,builder:JSON::Builder)-class-method","html_id":"to_json(value:String,builder:JSON::Builder)-class-method","name":"to_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"},{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"JSON::Builder"}],"args_string":"(value : String, builder : JSON::Builder)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr#L36","def":{"name":"to_json","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"},{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"JSON::Builder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"builder.string(sanitize(value))"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/SanitizeStringHash","path":"SanitizeStringHash.html","kind":"module","full_name":"SanitizeStringHash","name":"SanitizeStringHash","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Sanitizer","kind":"module","full_name":"Sanitizer","name":"Sanitizer"}],"locations":[{"filename":"converters.cr","line_number":42,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/dscottboggs/subtitles.cr/Sanitizer","kind":"module","full_name":"Sanitizer","name":"Sanitizer"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"The same filter as SanitizeString, just for a Hash of String to String","summary":"<p>The same filter as SanitizeString, just for a Hash of String to String</p>","class_methods":[{"id":"from_json(value:JSON::PullParser)-class-method","html_id":"from_json(value:JSON::PullParser)-class-method","name":"from_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::PullParser"}],"args_string":"(value : JSON::PullParser)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr#L46","def":{"name":"from_json","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::PullParser"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(StringHash.new(value)).map do |key, value|\n  {(  dirty(key)), (  dirty(value))}\nend.to_h"}},{"id":"to_json(value:StringHash,builder:JSON::Builder)-class-method","html_id":"to_json(value:StringHash,builder:JSON::Builder)-class-method","name":"to_json","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"StringHash"},{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"JSON::Builder"}],"args_string":"(value : StringHash, builder : JSON::Builder)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr#L52","def":{"name":"to_json","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"StringHash"},{"name":"builder","doc":null,"default_value":"","external_name":"builder","restriction":"JSON::Builder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"value.map do |key, value|\n  {(  sanitize(key)), (  sanitize(value))}\nend.to_h.to_json(builder)"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/dscottboggs/subtitles.cr/SanitizeStringHash/StringHash","path":"SanitizeStringHash/StringHash.html","kind":"alias","full_name":"SanitizeStringHash::StringHash","name":"StringHash","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"converters.cr","line_number":44,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/converters.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":true,"aliased":"Hash(String, String)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/SanitizeStringHash","kind":"module","full_name":"SanitizeStringHash","name":"SanitizeStringHash"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","path":"Subtitles.html","kind":"module","full_name":"Subtitles","name":"Subtitles","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"caption.cr","line_number":4,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr"},{"filename":"config.cr","line_number":3,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr"},{"filename":"meta.cr","line_number":2,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/meta.cr"},{"filename":"style.cr","line_number":2,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/style.cr"},{"filename":"format.cr","line_number":5,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr"},{"filename":"format/substation.cr","line_number":5,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr"},{"filename":"format/ssa.cr","line_number":3,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ssa.cr"},{"filename":"format/ass.cr","line_number":3,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ass.cr"},{"filename":"format/json.cr","line_number":1,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/json.cr"},{"filename":"format/srt.cr","line_number":3,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/srt.cr"},{"filename":"subtitles.cr","line_number":4,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/subtitles.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.1.0\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"}],"subclasses":[],"including_types":[],"namespace":null,"doc":"Common methods shared between the very similar SSA and ASS formats.","summary":"<p>Common methods shared between the very similar SSA and ASS formats.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"convert(content:IO,toformat:Format.class,resyncresync_option=false)-instance-method","html_id":"convert(content:IO,toformat:Format.class,resyncresync_option=false)-instance-method","name":"convert","doc":null,"summary":null,"abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"},{"name":"format","doc":null,"default_value":"","external_name":"to","restriction":"Format.class"},{"name":"resync_option","doc":null,"default_value":"false","external_name":"resync","restriction":""}],"args_string":"(content : IO, to format : <span class=\"t\">Format</span>.<span class=\"k\">class</span>, resync resync_option = <span class=\"n\">false</span>)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/subtitles.cr#L33","def":{"name":"convert","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"},{"name":"format","doc":null,"default_value":"","external_name":"to","restriction":"Format.class"},{"name":"resync_option","doc":null,"default_value":"false","external_name":"resync","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"captions = parse(content)\nif resync_option\n  resync(captions)\nend\nformat.build(captions)\n"}},{"id":"detect(content:IO):Format.class?-instance-method","html_id":"detect(content:IO):Format.class?-instance-method","name":"detect","doc":null,"summary":null,"abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"args_string":"(content : IO) : <span class=\"t\">Format</span>.<span class=\"k\">class</span>?","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/subtitles.cr#L14","def":{"name":"detect","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Format.class | Nil","visibility":"Public","body":"{% for format in Formats %}\n    if detected = {{ format.id }}.detect content\n      return detected\n    end\n    {% end %}"}},{"id":"logger:Logger-instance-method","html_id":"logger:Logger-instance-method","name":"logger","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Logger","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/subtitles.cr#L10","def":{"name":"logger","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Logger","visibility":"Public","body":"@@logger || (@@logger = Config.logger)"}},{"id":"parse(content:IO):Caption?-instance-method","html_id":"parse(content:IO):Caption?-instance-method","name":"parse","doc":null,"summary":null,"abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"args_string":"(content : IO) : Caption?","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/subtitles.cr#L27","def":{"name":"parse","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Caption | ::Nil","visibility":"Public","body":"if detected = detect(content)\n  (detected.new(content)).parse\nend"}},{"id":"parse(*,filepath:String)-instance-method","html_id":"parse(*,filepath:String)-instance-method","name":"parse","doc":null,"summary":null,"abstract":false,"args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"args_string":"(*, filepath : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/subtitles.cr#L22","def":{"name":"parse","args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"File.open(filepath) do |file|\n  parse(file)\nend"}},{"id":"resync(captions:Array(Caption),offset:Number,frame_rate:Number,ratio=1_f64)-instance-method","html_id":"resync(captions:Array(Caption),offset:Number,frame_rate:Number,ratio=1_f64)-instance-method","name":"resync","doc":null,"summary":null,"abstract":false,"args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"},{"name":"offset","doc":null,"default_value":"","external_name":"offset","restriction":"Number"},{"name":"frame_rate","doc":null,"default_value":"","external_name":"frame_rate","restriction":"Number"},{"name":"ratio","doc":null,"default_value":"1_f64","external_name":"ratio","restriction":""}],"args_string":"(captions : Array(Caption), offset : Number, frame_rate : Number, ratio = <span class=\"n\">1_f64</span>)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/subtitles.cr#L43","def":{"name":"resync","args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"},{"name":"offset","doc":null,"default_value":"","external_name":"offset","restriction":"Number"},{"name":"frame_rate","doc":null,"default_value":"","external_name":"frame_rate","restriction":"Number"},{"name":"ratio","doc":null,"default_value":"1_f64","external_name":"ratio","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"offset = offset * frame_rate\nresync(captions) do |start, end|\n  {Math.round((start * ratio) + offset), Math.round((end * ratio) + offset)}\nend\n"}},{"id":"resync(captions:Array(Caption),offset:Number)-instance-method","html_id":"resync(captions:Array(Caption),offset:Number)-instance-method","name":"resync","doc":null,"summary":null,"abstract":false,"args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"},{"name":"offset","doc":null,"default_value":"","external_name":"offset","restriction":"Number"}],"args_string":"(captions : Array(Caption), offset : Number)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/subtitles.cr#L39","def":{"name":"resync","args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"},{"name":"offset","doc":null,"default_value":"","external_name":"offset","restriction":"Number"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"resync(captions) do |start, end|\n  {start + offset, end + offset}\nend"}},{"id":"resync(captions:Array(Caption),&block)-instance-method","html_id":"resync(captions:Array(Caption),&amp;block)-instance-method","name":"resync","doc":null,"summary":null,"abstract":false,"args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"}],"args_string":"(captions : Array(Caption), &block)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/subtitles.cr#L50","def":{"name":"resync","args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"}],"double_splat":null,"splat_index":null,"yields":2,"block_arg":null,"return_type":"","visibility":"Public","body":"synced = [] of Caption\ncaptions.each_with_index do |caption, index|\n  temp = caption.clone\n  temp.start, temp.end = yield caption.start, caption.end\n  temp.duration = temp.end - temp.start\n  synced << temp\nend\nsynced\n"}}],"macros":[],"types":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/ASS","path":"Subtitles/ASS.html","kind":"class","full_name":"Subtitles::ASS","name":"ASS","abstract":false,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/SSA","kind":"class","full_name":"Subtitles::SSA","name":"SSA"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/SSA","kind":"class","full_name":"Subtitles::SSA","name":"SSA"},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation","kind":"class","full_name":"Subtitles::Substation","name":"Substation"},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Format","kind":"class","full_name":"Subtitles::Format","name":"Format"},{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"format/ass.cr","line_number":4,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ass.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":null,"summary":null,"class_methods":[{"id":"default_style-class-method","html_id":"default_style-class-method","name":"default_style","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ass.cr#L17","def":{"name":"default_style","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"Style: DefaultVCD, Arial,28,&H00B4FCFC,&H00B4FCFC,&H00000008,&H80000008,-1,0,0,0,100,100,0.00,0.00,1,1.00,2.00,2,30,30,30,0\""}},{"id":"first_dialogue_column-class-method","html_id":"first_dialogue_column-class-method","name":"first_dialogue_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ass.cr#L9","def":{"name":"first_dialogue_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"0\""}},{"id":"first_format_column-class-method","html_id":"first_format_column-class-method","name":"first_format_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ass.cr#L13","def":{"name":"first_format_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"Layer\""}},{"id":"style_format_columns-class-method","html_id":"style_format_columns-class-method","name":"style_format_columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ass.cr#L21","def":{"name":"style_format_columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\""}},{"id":"styles_section_header-class-method","html_id":"styles_section_header-class-method","name":"styles_section_header","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ass.cr#L5","def":{"name":"styles_section_header","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"[V4+ Styles]\""}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Caption","path":"Subtitles/Caption.html","kind":"class","full_name":"Subtitles::Caption","name":"Caption","abstract":false,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"},{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"caption.cr","line_number":6,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/dscottboggs/subtitles.cr/JSON/Serializable","kind":"module","full_name":"JSON::Serializable","name":"Serializable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":"An intermediary format to store the data in while converting from one format to another.","summary":"<p>An intermediary format to store the data in while converting from one format to another.</p>","class_methods":[],"constructors":[{"id":"new(start,end__arg0,duration,content,text)-class-method","html_id":"new(start,end__arg0,duration,content,text)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":""},{"name":"__arg0","doc":null,"default_value":"","external_name":"end","restriction":""},{"name":"duration","doc":null,"default_value":"","external_name":"duration","restriction":""},{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":""},{"name":"text","doc":null,"default_value":"","external_name":"text","restriction":""}],"args_string":"(start, end __arg0, duration, content, text)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L33","def":{"name":"new","args":[{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":""},{"name":"__arg0","doc":null,"default_value":"","external_name":"end","restriction":""},{"name":"duration","doc":null,"default_value":"","external_name":"duration","restriction":""},{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":""},{"name":"text","doc":null,"default_value":"","external_name":"text","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(start, __arg0, duration, content, text)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(pull:::JSON::PullParser)-class-method","html_id":"new(pull:::JSON::PullParser)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"::JSON::PullParser"}],"args_string":"(pull : ::JSON::PullParser)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L7","def":{"name":"new","args":[{"name":"pull","doc":null,"default_value":"","external_name":"pull","restriction":"::JSON::PullParser"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"instance = allocate\ninstance.initialize(__pull_for_json_serializable: pull)\nif instance.responds_to?(:finalize)\n  GC.add_finalizer(instance)\nend\ninstance\n"}},{"id":"new(*,start,end__arg1,content,text)-class-method","html_id":"new(*,start,end__arg1,content,text)-class-method","name":"new","doc":"Automatically calculate the duration value.","summary":"<p>Automatically calculate the duration value.</p>","abstract":false,"args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":""},{"name":"__arg1","doc":null,"default_value":"","external_name":"end","restriction":""},{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":""},{"name":"text","doc":null,"default_value":"","external_name":"text","restriction":""}],"args_string":"(*, start, end __arg1, content, text)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L36","def":{"name":"new","args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":""},{"name":"__arg1","doc":null,"default_value":"","external_name":"end","restriction":""},{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":""},{"name":"text","doc":null,"default_value":"","external_name":"text","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(start: start, end: __arg1, content: content, text: text)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(*,start,duration,content,text)-class-method","html_id":"new(*,start,duration,content,text)-class-method","name":"new","doc":"Automatically caluculate the end value.","summary":"<p>Automatically caluculate the end value.</p>","abstract":false,"args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":""},{"name":"duration","doc":null,"default_value":"","external_name":"duration","restriction":""},{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":""},{"name":"text","doc":null,"default_value":"","external_name":"text","restriction":""}],"args_string":"(*, start, duration, content, text)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L41","def":{"name":"new","args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":""},{"name":"duration","doc":null,"default_value":"","external_name":"duration","restriction":""},{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":""},{"name":"text","doc":null,"default_value":"","external_name":"text","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(start: start, duration: duration, content: content, text: text)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"content:String-instance-method","html_id":"content:String-instance-method","name":"content","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L25","def":{"name":"content","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@content"}},{"id":"content=(content:String)-instance-method","html_id":"content=(content:String)-instance-method","name":"content=","doc":null,"summary":null,"abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"args_string":"(content : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L29","def":{"name":"content=","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@content = content"}},{"id":"data:Hash(String,String)?-instance-method","html_id":"data:Hash(String,String)?-instance-method","name":"data","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, String)?","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L33","def":{"name":"data","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, String) | ::Nil","visibility":"Public","body":"@data"}},{"id":"data=(data:Hash(String,String)?)-instance-method","html_id":"data=(data:Hash(String,String)?)-instance-method","name":"data=","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String) | ::Nil"}],"args_string":"(data : Hash(String, String)?)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L37","def":{"name":"data=","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data = data"}},{"id":"duration:Time::Span-instance-method","html_id":"duration:Time::Span-instance-method","name":"duration","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time::Span","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L21","def":{"name":"duration","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time::Span","visibility":"Public","body":"@duration"}},{"id":"duration=(duration:Time::Span)-instance-method","html_id":"duration=(duration:Time::Span)-instance-method","name":"duration=","doc":null,"summary":null,"abstract":false,"args":[{"name":"duration","doc":null,"default_value":"","external_name":"duration","restriction":"Time::Span"}],"args_string":"(duration : Time::Span)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L25","def":{"name":"duration=","args":[{"name":"duration","doc":null,"default_value":"","external_name":"duration","restriction":"Time::Span"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@duration = duration"}},{"id":"end:Time::Span-instance-method","html_id":"end:Time::Span-instance-method","name":"end","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time::Span","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L17","def":{"name":"end","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time::Span","visibility":"Public","body":"@end"}},{"id":"end=(end__arg0:Time::Span)-instance-method","html_id":"end=(end__arg0:Time::Span)-instance-method","name":"end=","doc":null,"summary":null,"abstract":false,"args":[{"name":"__arg0","doc":null,"default_value":"","external_name":"end","restriction":"Time::Span"}],"args_string":"(end __arg0 : Time::Span)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L21","def":{"name":"end=","args":[{"name":"__arg0","doc":null,"default_value":"","external_name":"end","restriction":"Time::Span"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@end = __arg0"}},{"id":"start:Time::Span-instance-method","html_id":"start:Time::Span-instance-method","name":"start","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time::Span","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L13","def":{"name":"start","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time::Span","visibility":"Public","body":"@start"}},{"id":"start=(start:Time::Span)-instance-method","html_id":"start=(start:Time::Span)-instance-method","name":"start=","doc":null,"summary":null,"abstract":false,"args":[{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":"Time::Span"}],"args_string":"(start : Time::Span)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L17","def":{"name":"start=","args":[{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":"Time::Span"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@start = start"}},{"id":"text:String-instance-method","html_id":"text:String-instance-method","name":"text","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L29","def":{"name":"text","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@text"}},{"id":"text=(text:String)-instance-method","html_id":"text=(text:String)-instance-method","name":"text=","doc":null,"summary":null,"abstract":false,"args":[{"name":"text","doc":null,"default_value":"","external_name":"text","restriction":"String"}],"args_string":"(text : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/caption.cr#L33","def":{"name":"text=","args":[{"name":"text","doc":null,"default_value":"","external_name":"text","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@text = text"}}],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Config","path":"Subtitles/Config.html","kind":"module","full_name":"Subtitles::Config","name":"Config","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"config.cr","line_number":4,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"HELP_TEXT","name":"HELP_TEXT","value":"\"subtitles.cr -- convert between subtitles formats\\n\\nUsage: subtitles /path/to/original.subtitles /path/to/output.format\\n\\n...where the .format value indicates the filetype you wish to output. The\\ninput filetype will be automatically detected from the file contents.\\n\\nAvailable formats:\\n  - .srt          -- SubRip subtitles\\n  - .ass and .ssa -- Substation Alpha subtitles\\n  - .json         -- A JSON representation of the internal intermediary\\n                     format.\\n\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":null,"summary":null,"class_methods":[{"id":"from_args=(from_args:Bool)-class-method","html_id":"from_args=(from_args:Bool)-class-method","name":"from_args=","doc":null,"summary":null,"abstract":false,"args":[{"name":"from_args","doc":null,"default_value":"","external_name":"from_args","restriction":"Bool"}],"args_string":"(from_args : Bool)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr#L79","def":{"name":"from_args=","args":[{"name":"from_args","doc":null,"default_value":"","external_name":"from_args","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@from_args = from_args"}},{"id":"from_args?:Bool-class-method","html_id":"from_args?:Bool-class-method","name":"from_args?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr#L75","def":{"name":"from_args?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@@from_args"}},{"id":"log_file:IO-class-method","html_id":"log_file:IO-class-method","name":"log_file","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : IO","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr#L41","def":{"name":"log_file","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"IO","visibility":"Public","body":"@@log_file || (@@log_file = if lf = ENV[\"subtitles_log_file\"]?\n  return File.open(lf)\nelse\n  if Config.from_args? && (idx = ARGV.index do |arg|\n    Arguments::LogFileOptions.includes?(arg)\n  end)\n    ARGV.delete_at(idx)\n    return File.open(ARGV.delete_at(idx))\n  else\n    STDOUT\n  end\nend)"}},{"id":"log_level:Logger::Severity-class-method","html_id":"log_level:Logger::Severity-class-method","name":"log_level","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Logger::Severity","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr#L54","def":{"name":"log_level","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Logger::Severity","visibility":"Public","body":"@@log_level || (@@log_level = if ll = ENV[\"subtitles_log_level\"]?\n  log_level_string_value(ll)\nelse\n  if ENV[\"debug\"]? || ENV[\"subtitles_test\"]?\n    Logger::Severity::DEBUG\n  else\n    if Config.from_args? && (idx = ARGV.index do |arg|\n      Arguments::LogLevelOptions.includes?(arg)\n    end)\n      ARGV.delete_at(idx)\n      log_level_string_value(ARGV.delete_at(idx))\n    else\n      Logger::Severity::INFO\n    end\n  end\nend)"}},{"id":"logger:Logger-class-method","html_id":"logger:Logger-class-method","name":"logger","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Logger","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr#L69","def":{"name":"logger","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Logger","visibility":"Public","body":"@@logger || (@@logger = (Logger.new(log_file, log_level)))"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Config/Arguments","path":"Subtitles/Config/Arguments.html","kind":"module","full_name":"Subtitles::Config::Arguments","name":"Arguments","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"config.cr","line_number":5,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"HelpOptions","name":"HelpOptions","value":"{\"-h\", \"--help\", \"help\"}","doc":null,"summary":null},{"id":"LogFileOptions","name":"LogFileOptions","value":"{\"--log-file\", \"--logfile\"}","doc":null,"summary":null},{"id":"LogLevelOptions","name":"LogLevelOptions","value":"{\"--log-level\", \"--loglevel\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Config","kind":"module","full_name":"Subtitles::Config","name":"Config"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Config/Defaults","path":"Subtitles/Config/Defaults.html","kind":"module","full_name":"Subtitles::Config::Defaults","name":"Defaults","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"config.cr","line_number":27,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Config","kind":"module","full_name":"Subtitles::Config","name":"Config"},"doc":null,"summary":null,"class_methods":[{"id":"log_file-class-method","html_id":"log_file-class-method","name":"log_file","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/config.cr#L28","def":{"name":"log_file","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if lf = ENV[\"subtitles_log_file\"]?\n  return File.open(lf)\nelse\n  if Config.from_args? && (idx = ARGV.index do |arg|\n    Arguments::LogFileOptions.includes?(arg)\n  end)\n    ARGV.delete_at(idx)\n    return File.open(ARGV.delete_at(idx))\n  end\nend\nSTDOUT\n"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Format","path":"Subtitles/Format.html","kind":"class","full_name":"Subtitles::Format","name":"Format","abstract":true,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"format.cr","line_number":19,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/SRT","kind":"class","full_name":"Subtitles::SRT","name":"SRT"},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation","kind":"class","full_name":"Subtitles::Substation","name":"Substation"}],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":"Each subtitle format (like ASS, SRT, JSON, etc.) should be compatible with this interface.","summary":"<p>Each subtitle format (like ASS, SRT, JSON, etc.) should be compatible with this interface.</p>","class_methods":[],"constructors":[{"id":"new(content:IO)-class-method","html_id":"new(content:IO)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"args_string":"(content : IO)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L28","def":{"name":"new","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(content)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(contentstring:String)-class-method","html_id":"new(contentstring:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"args_string":"(content string : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L30","def":{"name":"new","args":[{"name":"string","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(string)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(*,filepath:String)-class-method","html_id":"new(*,filepath:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"args_string":"(*, filepath : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L34","def":{"name":"new","args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(filepath: filepath)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"content:IO-instance-method","html_id":"content:IO-instance-method","name":"content","doc":"The textual representation of the subtitles.","summary":"<p>The textual representation of the subtitles.</p>","abstract":true,"args":[],"args_string":" : IO","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L21","def":{"name":"content","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"IO","visibility":"Public","body":""}},{"id":"finalize-instance-method","html_id":"finalize-instance-method","name":"finalize","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L38","def":{"name":"finalize","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if content.responds_to?(:close)\n  content.close\nend"}},{"id":"to_captions-instance-method","html_id":"to_captions-instance-method","name":"to_captions","doc":"Convert this Substation subtitles file to an intermediary format for\nconversion to another format. This process can be lossy, depending on the\nformat.","summary":"<p>Convert this Substation subtitles file to an intermediary format for conversion to another format.</p>","abstract":true,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L26","def":{"name":"to_captions","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Formats","path":"Subtitles/Formats.html","kind":"enum","full_name":"Subtitles::Formats","name":"Formats","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"github.com/dscottboggs/subtitles.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/dscottboggs/subtitles.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"format.cr","line_number":6,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":true,"alias":false,"aliased":"","const":false,"constants":[{"id":"VTT","name":"VTT","value":"0","doc":null,"summary":null},{"id":"LRC","name":"LRC","value":"1","doc":null,"summary":null},{"id":"SMI","name":"SMI","value":"2","doc":null,"summary":null},{"id":"SSA","name":"SSA","value":"3","doc":null,"summary":null},{"id":"ASS","name":"ASS","value":"4","doc":null,"summary":null},{"id":"SUB","name":"SUB","value":"5","doc":null,"summary":null},{"id":"SRT","name":"SRT","value":"6","doc":null,"summary":null},{"id":"SBV","name":"SBV","value":"7","doc":null,"summary":null},{"id":"JSON","name":"JSON","value":"8","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"ass?-instance-method","html_id":"ass?-instance-method","name":"ass?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L11","def":{"name":"ass?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == ASS"}},{"id":"json?-instance-method","html_id":"json?-instance-method","name":"json?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L15","def":{"name":"json?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == JSON"}},{"id":"lrc?-instance-method","html_id":"lrc?-instance-method","name":"lrc?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L8","def":{"name":"lrc?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == LRC"}},{"id":"sbv?-instance-method","html_id":"sbv?-instance-method","name":"sbv?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L14","def":{"name":"sbv?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == SBV"}},{"id":"smi?-instance-method","html_id":"smi?-instance-method","name":"smi?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L9","def":{"name":"smi?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == SMI"}},{"id":"srt?-instance-method","html_id":"srt?-instance-method","name":"srt?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L13","def":{"name":"srt?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == SRT"}},{"id":"ssa?-instance-method","html_id":"ssa?-instance-method","name":"ssa?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L10","def":{"name":"ssa?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == SSA"}},{"id":"sub?-instance-method","html_id":"sub?-instance-method","name":"sub?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L12","def":{"name":"sub?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == SUB"}},{"id":"vtt?-instance-method","html_id":"vtt?-instance-method","name":"vtt?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format.cr#L7","def":{"name":"vtt?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == VTT"}}],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/JSON","path":"Subtitles/JSON.html","kind":"class","full_name":"Subtitles::JSON","name":"JSON","abstract":false,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"format/json.cr","line_number":3,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/json.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"JSON_FT_REGEX","name":"JSON_FT_REGEX","value":"/^\\s*\\[\\s*\\{(\\s*.+\\s*)+\\}\\s*\\]\\s*$/","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":"A JSON representation of the internal intermediary format.","summary":"<p>A JSON representation of the internal intermediary format.</p>","class_methods":[{"id":"detect(content)-class-method","html_id":"detect(content)-class-method","name":"detect","doc":null,"summary":null,"abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":""}],"args_string":"(content)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/json.cr#L31","def":{"name":"detect","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if JSON_FT_REGEX.match(content)\n  return self\nend"}}],"constructors":[{"id":"new(content:IO)-class-method","html_id":"new(content:IO)-class-method","name":"new","doc":"initialize with the content","summary":"<p>initialize with the content</p>","abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"args_string":"(content : IO)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/json.cr#L15","def":{"name":"new","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(content)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(contentstring:String)-class-method","html_id":"new(contentstring:String)-class-method","name":"new","doc":"initialize with the content","summary":"<p>initialize with the content</p>","abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"args_string":"(content string : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/json.cr#L18","def":{"name":"new","args":[{"name":"string","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(string)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(captions:Array(Caption),eol=&quot;\\r\\n&quot;)-class-method","html_id":"new(captions:Array(Caption),eol=&amp;quot;\\r\\n&amp;quot;)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"},{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"args_string":"(captions : Array(Caption), eol = <span class=\"s\">&quot;\\r\\n&quot;</span>)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/json.cr#L27","def":{"name":"new","args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"},{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(captions, eol)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(*,filepath:String)-class-method","html_id":"new(*,filepath:String)-class-method","name":"new","doc":"Read in a JSON-formatted subtitle from the given filepath.","summary":"<p>Read in a JSON-formatted subtitle from the given filepath.</p>","abstract":false,"args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"args_string":"(*, filepath : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/json.cr#L23","def":{"name":"new","args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(filepath: filepath)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"content:IO-instance-method","html_id":"content:IO-instance-method","name":"content","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : IO","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/json.cr#L8","def":{"name":"content","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"IO","visibility":"Public","body":"@content"}},{"id":"to_captions(eol=nil)-instance-method","html_id":"to_captions(eol=nil)-instance-method","name":"to_captions","doc":null,"summary":null,"abstract":false,"args":[{"name":"eol","doc":null,"default_value":"nil","external_name":"eol","restriction":""}],"args_string":"(eol = <span class=\"n\">nil</span>)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/json.cr#L8","def":{"name":"to_captions","args":[{"name":"eol","doc":null,"default_value":"nil","external_name":"eol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Array(Caption).from_json(content)"}}],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Meta","path":"Subtitles/Meta.html","kind":"class","full_name":"Subtitles::Meta","name":"Meta","abstract":false,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"meta.cr","line_number":3,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/meta.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(data={}ofString=>String)-class-method","html_id":"new(data={}ofString=&gt;String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"{} of String => String","external_name":"data","restriction":""}],"args_string":"(data = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">String</span>)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/meta.cr#L6","def":{"name":"new","args":[{"name":"data","doc":null,"default_value":"{} of String => String","external_name":"data","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(data)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"data:Hash(String,String)-instance-method","html_id":"data:Hash(String,String)-instance-method","name":"data","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/meta.cr#L6","def":{"name":"data","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, String)","visibility":"Public","body":"@data"}},{"id":"data=(data:Hash(String,String))-instance-method","html_id":"data=(data:Hash(String,String))-instance-method","name":"data=","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"args_string":"(data : Hash(String, String))","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/meta.cr#L10","def":{"name":"data=","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data = data"}}],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/SRT","path":"Subtitles/SRT.html","kind":"class","full_name":"Subtitles::SRT","name":"SRT","abstract":false,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Format","kind":"class","full_name":"Subtitles::Format","name":"Format"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Format","kind":"class","full_name":"Subtitles::Format","name":"Format"},{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"format/srt.cr","line_number":4,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/srt.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"SRT_PART_REGEX","name":"SRT_PART_REGEX","value":"/^(\\d+)\\r?\\n(\\d{1,2}:\\d{1,2}:\\d{1,2}([.,]\\d{1,3})?)\\s*\\-\\-\\>\\s*(\\d{1,2}:\\d{1,2}:\\d{1,2}([.,]\\d{1,3})?)\\r?\\n([\\s\\S]*)(\\r?\\n)*$/i","doc":null,"summary":null},{"id":"SRT_REGEX","name":"SRT_REGEX","value":"/^\\d+\\r?\\n\\d{1,2}:\\d{1,2}:\\d{1,2}([.,]\\d{1,3})?\\s*\\-\\-\\>\\s*\\d{1,2}:\\d{1,2}:\\d{1,2}([.,]\\d{1,3})?/i","doc":null,"summary":null},{"id":"SRT_TIME_FORMAT","name":"SRT_TIME_FORMAT","value":"\"%H:%M:%S,%L\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":null,"summary":null,"class_methods":[{"id":"detect(content:String)-class-method","html_id":"detect(content:String)-class-method","name":"detect","doc":null,"summary":null,"abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"args_string":"(content : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/srt.cr#L59","def":{"name":"detect","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if SRT_REGEX.match(content)\n  self\nend"}}],"constructors":[{"id":"new(captions:Array(Caption),eol=&quot;\\r\\n&quot;)-class-method","html_id":"new(captions:Array(Caption),eol=&amp;quot;\\r\\n&amp;quot;)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"},{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"args_string":"(captions : Array(Caption), eol = <span class=\"s\">&quot;\\r\\n&quot;</span>)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/srt.cr#L8","def":{"name":"new","args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption)"},{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(captions, eol)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(content:IO)-class-method","html_id":"new(content:IO)-class-method","name":"new","doc":"initialize with the content","summary":"<p>initialize with the content</p>","abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"args_string":"(content : IO)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/srt.cr#L22","def":{"name":"new","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(content)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(contentstring:String)-class-method","html_id":"new(contentstring:String)-class-method","name":"new","doc":"initialize with the content","summary":"<p>initialize with the content</p>","abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"args_string":"(content string : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/srt.cr#L25","def":{"name":"new","args":[{"name":"string","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(string)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(*,filepath:String)-class-method","html_id":"new(*,filepath:String)-class-method","name":"new","doc":"Read in an SSA compatible subtitle from the given filepath.","summary":"<p>Read in an SSA compatible subtitle from the given filepath.</p>","abstract":false,"args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"args_string":"(*, filepath : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/srt.cr#L30","def":{"name":"new","args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(filepath: filepath)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"content:IO-instance-method","html_id":"content:IO-instance-method","name":"content","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : IO","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/srt.cr#L19","def":{"name":"content","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"IO","visibility":"Public","body":"@content"}},{"id":"to_captions(eol=&quot;\\r\\n&quot;):Array(Caption)-instance-method","html_id":"to_captions(eol=&amp;quot;\\r\\n&amp;quot;):Array(Caption)-instance-method","name":"to_captions","doc":null,"summary":null,"abstract":false,"args":[{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"args_string":"(eol = <span class=\"s\">&quot;\\r\\n&quot;</span>) : Array(Caption)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/srt.cr#L34","def":{"name":"to_captions","args":[{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Caption)","visibility":"Public","body":"captions = [] of Caption\nwhile part = content.gets(eol * 2, chomp: true)\n  if match = SRT_PART_REGEX.match(part)\n    lines = match[6].split(/\\r?\\n/)\n    captions << Caption.new(start: parse_time(match[2]), end: parse_time(match[4]), content: match[6], text: lines.join(eol))\n  else\n    Subtitles.logger.debug(\"got unrecognized part: #{part}\")\n  end\nend\ncaptions\n"}}],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/SSA","path":"Subtitles/SSA.html","kind":"class","full_name":"Subtitles::SSA","name":"SSA","abstract":false,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation","kind":"class","full_name":"Subtitles::Substation","name":"Substation"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation","kind":"class","full_name":"Subtitles::Substation","name":"Substation"},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Format","kind":"class","full_name":"Subtitles::Format","name":"Format"},{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"format/ssa.cr","line_number":4,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ssa.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/ASS","kind":"class","full_name":"Subtitles::ASS","name":"ASS"}],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":null,"summary":null,"class_methods":[{"id":"default_style-class-method","html_id":"default_style-class-method","name":"default_style","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ssa.cr#L17","def":{"name":"default_style","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"Style: DefaultVCD, Arial,28,11861244,11861244,11861244,-2147483640,-1,0,1,1,2,2,30,30,30,0,0\""}},{"id":"first_dialogue_column-class-method","html_id":"first_dialogue_column-class-method","name":"first_dialogue_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ssa.cr#L9","def":{"name":"first_dialogue_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"Marked=0\""}},{"id":"first_format_column-class-method","html_id":"first_format_column-class-method","name":"first_format_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ssa.cr#L13","def":{"name":"first_format_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"Marked\""}},{"id":"style_format_columns-class-method","html_id":"style_format_columns-class-method","name":"style_format_columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ssa.cr#L21","def":{"name":"style_format_columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding\""}},{"id":"styles_section_header-class-method","html_id":"styles_section_header-class-method","name":"styles_section_header","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/ssa.cr#L5","def":{"name":"styles_section_header","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"[V4 Styles]\""}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Style","path":"Subtitles/Style.html","kind":"class","full_name":"Subtitles::Style","name":"Style","abstract":false,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"style.cr","line_number":3,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/style.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"data:Hash(String,String)-instance-method","html_id":"data:Hash(String,String)-instance-method","name":"data","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/style.cr#L6","def":{"name":"data","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data"}},{"id":"data=(data)-instance-method","html_id":"data=(data)-instance-method","name":"data=","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":""}],"args_string":"(data)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/style.cr#L10","def":{"name":"data=","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@data = data"}}],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation","path":"Subtitles/Substation.html","kind":"class","full_name":"Subtitles::Substation","name":"Substation","abstract":true,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Format","kind":"class","full_name":"Subtitles::Format","name":"Format"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Format","kind":"class","full_name":"Subtitles::Format","name":"Format"},{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"format/substation.cr","line_number":6,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"SRT_TIME_FORMAT","name":"SRT_TIME_FORMAT","value":"\"%H:%M:%S.%L\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/SSA","kind":"class","full_name":"Subtitles::SSA","name":"SSA"}],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles","kind":"module","full_name":"Subtitles","name":"Subtitles"},"doc":null,"summary":null,"class_methods":[{"id":"default_style-class-method","html_id":"default_style-class-method","name":"default_style","doc":"The default style for subtitles coming from formats without formatting\noptions.","summary":"<p>The default style for subtitles coming from formats without formatting options.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L29","def":{"name":"default_style","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% raise(\"attempted to call abstract class method Subtitles::Substation.class.default_style\") %}"}},{"id":"detect(content:String)-class-method","html_id":"detect(content:String)-class-method","name":"detect","doc":"Check that the given content is a Substation filetype\nReturns `Subtitles::ASS` if the file is a .ass file, `Subtitles::SSA` if\nit's a .ssa file, an `nil` if it's neither.","summary":"<p>Check that the given content is a Substation filetype Returns <code><a href=\"../Subtitles/ASS.html\">Subtitles::ASS</a></code> if the file is a .ass file, <code><a href=\"../Subtitles/SSA.html\">Subtitles::SSA</a></code> if it's a .ssa file, an <code>nil</code> if it's neither.</p>","abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"args_string":"(content : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L207","def":{"name":"detect","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (Regexes::ScriptInfo.match(content)) && (Regexes::Events.match(content))\n  if content.includes?(\"[V4+ Styles]\")\n    ASS\n  else\n    SSA\n  end\nend"}},{"id":"first_dialogue_column-class-method","html_id":"first_dialogue_column-class-method","name":"first_dialogue_column","doc":"The content of the first column of a dialogue row.","summary":"<p>The content of the first column of a dialogue row.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L24","def":{"name":"first_dialogue_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% raise(\"attempted to call abstract class method Subtitles::Substation.class.first_dialogue_column\") %}"}},{"id":"first_format_column-class-method","html_id":"first_format_column-class-method","name":"first_format_column","doc":"The content of the first column of a format row.","summary":"<p>The content of the first column of a format row.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L26","def":{"name":"first_format_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% raise(\"attempted to call abstract class method Subtitles::Substation.class.first_format_column\") %}"}},{"id":"style_format_columns-class-method","html_id":"style_format_columns-class-method","name":"style_format_columns","doc":"The column headers for the default style","summary":"<p>The column headers for the default style</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L31","def":{"name":"style_format_columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% raise(\"attempted to call abstract class method Subtitles::Substation.class.style_format_columns\") %}"}},{"id":"styles_section_header-class-method","html_id":"styles_section_header-class-method","name":"styles_section_header","doc":"The header for the Styles section. Either [V4 Styles] or [V4+ Styles]","summary":"<p>The header for the Styles section.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L22","def":{"name":"styles_section_header","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"{% raise(\"attempted to call abstract class method Subtitles::Substation.class.styles_section_header\") %}"}}],"constructors":[{"id":"new(content:IO)-class-method","html_id":"new(content:IO)-class-method","name":"new","doc":"initialize with the content","summary":"<p>initialize with the content</p>","abstract":false,"args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"args_string":"(content : IO)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L36","def":{"name":"new","args":[{"name":"content","doc":null,"default_value":"","external_name":"content","restriction":"IO"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(content)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(contentstring:String)-class-method","html_id":"new(contentstring:String)-class-method","name":"new","doc":"initialize with the content","summary":"<p>initialize with the content</p>","abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"args_string":"(content string : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L39","def":{"name":"new","args":[{"name":"string","doc":null,"default_value":"","external_name":"content","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(string)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(captions:Array(Caption|Style),eol=&quot;\\r\\n&quot;)-class-method","html_id":"new(captions:Array(Caption|Style),eol=&amp;quot;\\r\\n&amp;quot;)-class-method","name":"new","doc":"Build SSA-compatible subtitles from the given `Caption`s.","summary":"<p>Build SSA-compatible subtitles from the given <code><a href=\"../Subtitles/Caption.html\">Caption</a></code>s.</p>","abstract":false,"args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption | Style)"},{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"args_string":"(captions : Array(Caption | Style), eol = <span class=\"s\">&quot;\\r\\n&quot;</span>)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L49","def":{"name":"new","args":[{"name":"captions","doc":null,"default_value":"","external_name":"captions","restriction":"Array(Caption | Style)"},{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"content = IO::Memory.new\n(content << \"[Script Info]\") << eol\n(content << \"; Script generated by Subtitles.cr\") << eol\n(content << \"ScriptType: v4.00\") << eol\n(content << \"Collisions: Normal\") << eol\ncontent << eol\n(content << styles_section_header) << eol\n(content << style_format_columns) << eol\n(content << ((style_in?(captions)) || default_style)) << eol\ncontent << eol\n(content << \"[Events]\") << eol\n(content << \"Format: #{first_format_column}, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text\") << eol\n(captions.reject do |__arg0|\n  __arg0.is_a?(Style)\nend.as(Array(Caption))).each do |caption|\n  content << \"Dialogue: #{first_dialogue_column},\"\n  (content << caption.start.to_s) << \",\"\n  (content << caption.end.to_s) << \",\"\n  content << \",DefaultVCD, NTP,0000,0000,0000,,\"\n  (content << (caption.text.gsub(/\\r?\\n/, \"\\\\N\"))) << eol\nend\nnew(content)\n"}},{"id":"new(*,filepath:String)-class-method","html_id":"new(*,filepath:String)-class-method","name":"new","doc":"Read in an SSA compatible subtitle from the given filepath.","summary":"<p>Read in an SSA compatible subtitle from the given filepath.</p>","abstract":false,"args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"args_string":"(*, filepath : String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L44","def":{"name":"new","args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"filepath","doc":null,"default_value":"","external_name":"filepath","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(filepath: filepath)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"columns:Array(String)-instance-method","html_id":"columns:Array(String)-instance-method","name":"columns","doc":"The columns the dialogue uses","summary":"<p>The columns the dialogue uses</p>","abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L96","def":{"name":"columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@columns"}},{"id":"columns=(columns)-instance-method","html_id":"columns=(columns)-instance-method","name":"columns=","doc":"The columns the dialogue uses","summary":"<p>The columns the dialogue uses</p>","abstract":false,"args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":""}],"args_string":"(columns)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L100","def":{"name":"columns=","args":[{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@columns = columns"}},{"id":"content:IO-instance-method","html_id":"content:IO-instance-method","name":"content","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : IO","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L9","def":{"name":"content","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"IO","visibility":"Public","body":"@content"}},{"id":"eol:String-instance-method","html_id":"eol:String-instance-method","name":"eol","doc":"The end-of-line character: '\\n' on Unix-like systems, '\\r\\n' on windows.","summary":"<p>The end-of-line character: '\\n' on Unix-like systems, '\\r\\n' on windows.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L14","def":{"name":"eol","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@eol"}},{"id":"eol=(eol)-instance-method","html_id":"eol=(eol)-instance-method","name":"eol=","doc":"The end-of-line character: '\\n' on Unix-like systems, '\\r\\n' on windows.","summary":"<p>The end-of-line character: '\\n' on Unix-like systems, '\\r\\n' on windows.</p>","abstract":false,"args":[{"name":"eol","doc":null,"default_value":"","external_name":"eol","restriction":""}],"args_string":"(eol)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L18","def":{"name":"eol=","args":[{"name":"eol","doc":null,"default_value":"","external_name":"eol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@eol = eol"}},{"id":"to_captions(eol=&quot;\\r\\n&quot;)-instance-method","html_id":"to_captions(eol=&amp;quot;\\r\\n&amp;quot;)-instance-method","name":"to_captions","doc":"Convert this Substation subtitles file to an intermediary format for\nconversion to another format. This process is lossy. At least all comments\nwill be lost, probably some other information too.","summary":"<p>Convert this Substation subtitles file to an intermediary format for conversion to another format.</p>","abstract":false,"args":[{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"args_string":"(eol = <span class=\"s\">&quot;\\r\\n&quot;</span>)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L160","def":{"name":"to_captions","args":[{"name":"eol","doc":null,"default_value":"\"\\r\\n\"","external_name":"eol","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"captions = [] of Caption | Style\nmeta = nil\nstyle_columns = nil\nevent_columns = nil\nwhile part = content.gets(eol + eol, chomp: true)\n  lines = (part.split(eol)).reject do |line|\n    (/^\\s*;/).match(line)\n  end.map(&.strip)\n  lines\n  tag = lines.shift.delete do |char|\n    ['[', ' ', ']', '\\t'].includes?(char)\n  end\n  tag\n  lines.each do |line|\n    if (/^\\s*;/).match(line)\n      next\n    end\n    if line_match = Regexes::Line.match(line)\n      case tag\n      when \"ScriptInfo\"\n        meta || (meta = Meta.new)\n        parse(meta, line_match)\n      when \"V4Styles\", \"V4+Styles\"\n        if cols = parse(styles: captions, match: line_match, columns: style_columns)\n          style_columns = cols\n        end\n      when \"Events\"\n        name, value = line_match[1].strip, line_match[2].strip\n        case name\n        when \"Format\"\n          event_columns = value.split(Regexes::Inline)\n          next\n        when \"Dialogue\"\n          if cols = event_columns\n            parse(dialogue: captions, text: value, columns: cols)\n          else\n            raise(DialogueBeforeFormat.new(content.tell))\n          end\n        end\n      else\n        Subtitles.logger.debug(\"Got unrecognized tag #{tag}\")\n      end\n    end\n  end\nend\ncaptions\n"}}],"macros":[],"types":[{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation/DialogueBeforeFormat","path":"Subtitles/Substation/DialogueBeforeFormat.html","kind":"class","full_name":"Subtitles::Substation::DialogueBeforeFormat","name":"DialogueBeforeFormat","abstract":false,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"format/substation.cr","line_number":234,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation","kind":"class","full_name":"Subtitles::Substation","name":"Substation"},"doc":"An exception which is raised when the [Format] tag comes physically after\nthe [Dialogue] tag in the file or buffer. When this occurs we have no\ncolumn in which to place the fields of the recieved row.","summary":"<p>An exception which is raised when the [Format] tag comes physically after the [Dialogue] tag in the file or buffer.</p>","class_methods":[],"constructors":[{"id":"new(position)-class-method","html_id":"new(position)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"position","doc":null,"default_value":"","external_name":"position","restriction":""}],"args_string":"(position)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L235","def":{"name":"new","args":[{"name":"position","doc":null,"default_value":"","external_name":"position","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(position)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation/Regexes","path":"Subtitles/Substation/Regexes.html","kind":"module","full_name":"Subtitles::Substation::Regexes","name":"Regexes","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"format/substation.cr","line_number":84,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"Events","name":"Events","value":"/\\s*\\[Events\\]\\r?\\n/","doc":null,"summary":null},{"id":"Inline","name":"Inline","value":"/\\s*,\\s*/","doc":null,"summary":null},{"id":"Line","name":"Line","value":"/^\\s*([^:]+):\\s*(.*)(\\r?\\n)?$/","doc":null,"summary":null},{"id":"Part","name":"Part","value":"/^\\s*\\[([^\\]]+)\\]\\r?\\n([\\s\\S]*)(\\r?\\n)*$/i","doc":null,"summary":null},{"id":"PositionMarker","name":"PositionMarker","value":"/\\{\\\\pos\\(\\d+,\\d+\\)\\}/","doc":null,"summary":null},{"id":"ScriptInfo","name":"ScriptInfo","value":"/^\\s*\\[Script Info\\]\\r?\\n/","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation","kind":"class","full_name":"Subtitles::Substation","name":"Substation"},"doc":"Regex values needed to parse Substation subtitles","summary":"<p>Regex values needed to parse Substation subtitles</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation/StyleBeforeFormat","path":"Subtitles/Substation/StyleBeforeFormat.html","kind":"class","full_name":"Subtitles::Substation::StyleBeforeFormat","name":"StyleBeforeFormat","abstract":false,"superclass":{"html_id":"github.com/dscottboggs/subtitles.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/dscottboggs/subtitles.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/dscottboggs/subtitles.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/dscottboggs/subtitles.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"format/substation.cr","line_number":225,"url":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr"}],"repository_name":"github.com/dscottboggs/subtitles.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/dscottboggs/subtitles.cr/Subtitles/Substation","kind":"class","full_name":"Subtitles::Substation","name":"Substation"},"doc":"An exception which is raised when the [Format] tag comes physically after\nthe [Style] tag in the file or buffer. When this occurs we have no\ncolumn in which to place the fields of the recieved row.","summary":"<p>An exception which is raised when the [Format] tag comes physically after the [Style] tag in the file or buffer.</p>","class_methods":[],"constructors":[{"id":"new(position)-class-method","html_id":"new(position)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"position","doc":null,"default_value":"","external_name":"position","restriction":""}],"args_string":"(position)","source_link":"https://github.com/dscottboggs/subtitles.cr/blob/78709188f91b60d246dc7c22473adacb0eed55c8/src/format/substation.cr#L226","def":{"name":"new","args":[{"name":"position","doc":null,"default_value":"","external_name":"position","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(position)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]}]}]}]}})